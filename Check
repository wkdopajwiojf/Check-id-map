--[[
    DXD: Banlist + Map Loader (Auto)
    ‡∏£‡∏ß‡∏°‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ö‡∏ô + ‡πÇ‡∏´‡∏•‡∏î script ‡∏ï‡∏≤‡∏° map
    ‡πÇ‡∏´‡∏•‡∏î default ("Chat with me") ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡πÅ‡∏°‡∏û
    @credit: chatgpt
]]

print("Checking Banlist üîÉ")
for i = 1, 100, math.random(5, 15) do
    task.wait(0.05)
    print("Loading... " .. i .. "%")
end
print("Loading... 100% ‚úÖ")

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÇ‡∏´‡∏•‡∏î remote safely (‡∏Å‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤: success, resultOrError)
local function safeHttpGet(url)
    local ok, res = pcall(function()
        return game:HttpGet(url)
    end)
    if not ok then
        return false, ("HttpGet failed: %s"):format(tostring(res))
    end
    return true, res
end

-- ‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ö‡∏ô (‡πÇ‡∏´‡∏•‡∏î‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô banlist ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ)
local isBanned = false
do
    local banUrl = "https://raw.githubusercontent.com/wkdopajwiojf/Zombie-game/main/Ban%20land"
    local ok, bodyOrErr = safeHttpGet(banUrl)
    if not ok then
        warn("Warning: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î Banlist -> " .. tostring(bodyOrErr))
        isBanned = false
    else
        local ok2, ret = pcall(function()
            return loadstring(bodyOrErr)()
        end)
        if not ok2 then
            warn("Warning: Banlist execution error -> " .. tostring(ret))
            isBanned = false
        else
            isBanned = (ret == true)
        end
    end
end

if isBanned then
    print("Ban ‚ùå")
    return
end

print("Success ‚úÖ")

-------------------------------------------------
-- 1Ô∏è‚É£ ‡πÇ‡∏´‡∏•‡∏î DEFAULT SCRIPT ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡πÅ‡∏°‡∏û
-------------------------------------------------
local DEFAULT_URL = "https://raw.githubusercontent.com/wkdopajwiojf/Check-id-map/refs/heads/main/Chat%20with%20me"

do
    local ok, body = safeHttpGet(DEFAULT_URL)
    if ok then
        local okRun, err = pcall(function()
            loadstring(body)()
        end)
        if okRun then
            print("‚úÖ Default script (Chat with me) loaded successfully.")
        else
            warn("‚ùå Default script execution failed: " .. tostring(err))
        end
    else
        warn("‚ùå Failed to load default script: " .. tostring(body))
    end
end

-------------------------------------------------
-- 2Ô∏è‚É£ ‡πÇ‡∏´‡∏•‡∏î SCRIPT ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≤‡∏° MAP (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
-------------------------------------------------
local mapId = game.PlaceId
local url

if mapId == 138365924124161 then
    url = "https://raw.githubusercontent.com/wkdopajwiojf/Backrooms-Drift/refs/heads/main/Script"
elseif mapId == 14419907512 then
    url = "https://raw.githubusercontent.com/wkdopajwiojf/Zombie-game/refs/heads/main/Eng%20version%20%E0%B8%94%E0%B8%B1%E0%B8%94%E0%B9%81%E0%B8%9B%E0%B8%A5%E0%B8%87%20script%20%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B8%99%E0%B8%B5%E0%B9%88"
elseif mapId == 9872472334 then
    url = "https://raw.githubusercontent.com/wkdopajwiojf/evade-bypass-countdown/refs/heads/main/Protected_8932730771877973.lua.txt"
elseif mapId == 10449761463 or mapId == 14835828495 or mapId == 17455699549 then
    url = "https://raw.githubusercontent.com/wkdopajwiojf/Tploop/refs/heads/main/pastebin%20%3E%20github"
end

if url then
    print("Detected map-specific script for PlaceId:", mapId)
    local ok, body = safeHttpGet(url)
    if ok then
        local okRun, err = pcall(function()
            loadstring(body)()
        end)
        if okRun then
            print("‚úÖ Map-specific script executed successfully.")
        else
            warn("‚ùå Map-specific execution failed: " .. tostring(err))
        end
    else
        warn("‚ùå Failed to load map script: " .. tostring(body))
    end
else
    print("No specific map script found ‚Äî default only.")
end
