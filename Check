--[[
üí† DXD: Ultimate Loader (v4)
‡∏£‡∏ß‡∏° Banlist + Map Loader + Chat with Me + WarpControl
- Chat with Me ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡πà‡∏≠‡∏ô WarpControl
- WarpControl ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏°‡∏û‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
- print() ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô Banlist
@credit: chatgpt
]]

-------------------------------------------------
-- üîß ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢
-------------------------------------------------
local function safeHttpGet(url)
    local ok, res = pcall(function()
        return game:HttpGet(url)
    end)
    if not ok then
        return false, ("HttpGet failed: %s"):format(tostring(res))
    end
    return true, res
end

local function safeLoad(url, desc)
    local ok, body = safeHttpGet(url)
    if not ok then
        warn("‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ("..desc.."): "..tostring(body))
        return false
    end
    local ok2, err = pcall(function()
        loadstring(body)()
    end)
    if not ok2 then
        warn("‚ö†Ô∏è "..desc.." execution error: "..tostring(err))
        return false
    end
    return true
end

-------------------------------------------------
-- üö´ ‡πÄ‡∏ä‡πá‡∏Ñ Banlist (‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ)
-------------------------------------------------
print("Checking Banlist üîÉ")
for i = 1, 100, math.random(5, 15) do
    task.wait(0.05)
    print("Loading... " .. i .. "%")
end
print("Loading... 100% ‚úÖ")

local isBanned = false
do
    local banUrl = "https://raw.githubusercontent.com/wkdopajwiojf/Zombie-game/main/Ban%20land"
    local ok, bodyOrErr = safeHttpGet(banUrl)
    if not ok then
        warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î Banlist -> " .. tostring(bodyOrErr))
        isBanned = false
    else
        local ok2, ret = pcall(function()
            return loadstring(bodyOrErr)()
        end)
        if not ok2 then
            warn("‚ö†Ô∏è Banlist execution error -> " .. tostring(ret))
            isBanned = false
        else
            isBanned = (ret == true)
        end
    end
end

if isBanned then
    print("üö´ Ban Detected! Script stopped.")
    return
end

print("‚úÖ Player not banned. Continuing...")

-------------------------------------------------
-- 1Ô∏è‚É£ ‡πÇ‡∏´‡∏•‡∏î Chat with Me ‡∏Å‡πà‡∏≠‡∏ô (DXD Relay UI v5.1)
-------------------------------------------------
local CHAT_URL = "https://raw.githubusercontent.com/wkdopajwiojf/Check-id-map/refs/heads/main/Chat%20with%20me"
safeLoad(CHAT_URL, "Chat with Me")

-------------------------------------------------
-- 2Ô∏è‚É£ ‡πÇ‡∏´‡∏•‡∏î WarpControl ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏°‡∏û‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
-------------------------------------------------
task.delay(5, function() -- ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á Chat UI ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
    local mapId = game.PlaceId
    local WARP_ALLOWED = {
        [14835828495] = true,
        [17455699549] = true,
        [10449761463] = true
    }

    if WARP_ALLOWED[mapId] then
        safeLoad("https://raw.githubusercontent.com/wkdopajwiojf/WarpControl/main/ClassicKey.lua", "WarpControl")
    end
end)

-------------------------------------------------
-- 3Ô∏è‚É£ ‡πÇ‡∏´‡∏•‡∏î SCRIPT ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≤‡∏° MAP (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
-------------------------------------------------
local mapId = game.PlaceId
local url

if mapId == 138365924124161 then
    url = "https://raw.githubusercontent.com/wkdopajwiojf/Backrooms-Drift/refs/heads/main/Script"
elseif mapId == 14419907512 then
    url = "https://raw.githubusercontent.com/wkdopajwiojf/Zombie-game/refs/heads/main/Eng%20version%20%E0%B8%94%E0%B8%B1%E0%B8%94%E0%B9%81%E0%B8%9B%E0%B8%A5%E0%B8%87%20script%20%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B8%99%E0%B8%B5%E0%B9%88"
elseif mapId == 9872472334 then
    url = "https://raw.githubusercontent.com/wkdopajwiojf/evade-bypass-countdown/refs/heads/main/Protected_8932730771877973.lua.txt"
elseif WARP_ALLOWED and WARP_ALLOWED[mapId] then
    url = "https://raw.githubusercontent.com/arm17966/Tploop-/refs/heads/main/Tploop%E0%B9%80%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A3%E0%B8%AB%E0%B8%B1%E0%B8%AA"
end

if url then
    safeLoad(url, "Map-Specific Script")
end
